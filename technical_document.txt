# Documentación Técnica: Tienda Kosher

## Visión General
Este proyecto es un MVP (Producto Mínimo Viable) de un e-commerce para productos certificados Kosher. La aplicación permite a los usuarios navegar por un catálogo de productos, agregar ítems a un carrito de compras persistente, y realizar pedidos que son notificados automáticamente al dueño de la tienda a través de WhatsApp.

## Arquitectura del Sistema

### Backend (Node.js & Express)
El servidor (`server.js`) actúa como una API REST simple y servidor de archivos estáticos.

*   **Tecnologías**: Node.js, Express, Axios, CORS.
*   **Endpoints**:
    *   `GET /api/products`: Retorna la lista de productos en formato JSON. Los datos están actualmente en memoria (array `products`).
    *   `POST /api/order`: Recibe los detalles del pedido (items y total).
        *   Valida que el carrito no esté vacío.
        *   Formatea un mensaje de texto con el resumen del pedido.
        *   Utiliza la API de **CallMeBot** para enviar este mensaje a WhatsApp.
*   **Configuración**:
    *   Puerto: `process.env.PORT` o `3000`.
    *   Credenciales CallMeBot: Constantes `PHONE` y `API_KEY` (deben ser configuradas en el código).

### Frontend (Vanilla JS, HTML, CSS)
La interfaz de usuario es una Single Page Application (SPA) simple servida estáticamente.

*   **Estructura (`index.html`)**:
    *   Semántica HTML5.
    *   Secciones: Header (Navegación, Carrito), Hero, Productos (Grid), Filosofía, Footer.
    *   Componentes Modales: Sidebar del carrito, Overlay.
*   **Estilos (`styles.css`)**:
    *   **Diseño**: Uso de Variables CSS (`:root`) para consistencia de colores y espaciado.
    *   **Layout**: Flexbox y CSS Grid para la disposición de elementos.
    *   **Tipografía**: Google Fonts (Outfit y Playfair Display).
    *   **Responsividad**: Diseño adaptable para móviles y escritorio (ver sección Responsividad).
*   **Lógica (`app.js`)**:
    *   **Estado**: Variable `cart` global para manejar el estado del carrito.
    *   **Persistencia**: Uso de `localStorage` para guardar el carrito (`tienda_kosher_cart`).
    *   **Expiración**: Lógica para limpiar el carrito automáticamente después de 2 horas.
    *   **Interacción**: Funciones para agregar/eliminar items, calcular totales y renderizar el DOM dinámicamente.
    *   **Comunicación**: `fetch` API para obtener productos y enviar pedidos al backend.

## Implementación de Responsividad (Mobile-First / Adaptive)
Se realizaron modificaciones específicas para asegurar una experiencia óptima en dispositivos móviles.

1.  **Menú de Navegación Móvil**:
    *   Se implementó un patrón de "Menú Hamburguesa" (`.menu-toggle`).
    *   En pantallas menores a 768px, el menú de navegación se transforma en un sidebar deslizante (`.nav-menu`).
    *   Animaciones CSS para la transición del icono de hamburguesa a una "X" de cierre.

2.  **Grid de Productos Adaptable**:
    *   Escritorio: Múltiples columnas (`repeat(auto-fill, minmax(250px, 1fr))`).
    *   Móvil (<480px): Una sola columna para maximizar la visibilidad de las imágenes y detalles.

3.  **Ajustes de Diseño**:
    *   Reducción de altura en la sección Hero (`50vh` en móvil).
    *   Ajuste de tamaños de fuente (`h1`, `h2`) para evitar desbordamientos.
    *   Reorganización del Footer a una sola columna centrada.

## Flujo de Datos
1.  **Carga**: El frontend solicita `/api/products`.
2.  **Interacción**: El usuario agrega productos -> `cart` se actualiza -> `localStorage` se guarda -> UI se repinta.
3.  **Checkout**:
    *   Usuario hace clic en "Finalizar Compra".
    *   Frontend envía POST a `/api/order` con el payload `{ items: [...], total: 100 }`.
    *   Backend recibe, formatea mensaje y llama a CallMeBot.
    *   Backend responde con éxito.
    *   Frontend limpia el carrito y notifica al usuario.

## Guía de Mantenimiento
*   **Agregar Productos**: Editar el array `products` en `server.js`.
*   **Cambiar Estilos**: Modificar variables en `:root` de `styles.css`.
*   **Configurar WhatsApp**: Actualizar `PHONE` y `API_KEY` en `server.js`.
